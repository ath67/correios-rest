{"version":3,"sources":["/home/tchaguitos/Documentos/projects/correios-rest/test/functional/calcPrecoData.test.js"],"names":["t","requestMock","nCdEmpresa","sDsSenha","nCdServico","sCepOrigem","sCepDestino","nVlPeso","nCdFormato","nVlComprimento","nVlAltura","nVlLargura","nVlDiametro","sCdMaoPropria","nVlValorDeclarado","sCdAvisoRecebimento","sDtCalculo","Date","getDate","getMonth","getFullYear","responseMock","Codigo","Valor","ValorMaoPropria","ValorAvisoRecebimento","ValorValorDeclarado","Erro","MsgErro","ValorSemAdicionais","post","send","expect","res","is","status","deepEqual","body"],"mappings":";;AAGA;;AACA;;AACA;;;;;;AAEA,kBAAK,eAAL;AAAA;AAAA;AAAA,0BAAsB,iBAAOA,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAEZC,uBAFY,GAEE;AAChBC,0BAAY,EADI;AAEhBC,wBAAU,EAFM;AAGhBC,0BAAY,OAHI;AAIhBC,0BAAY,UAJI;AAKhBC,2BAAa,UALG;AAMhBC,uBAAS,GANO;AAOhBC,0BAAY,GAPI;AAQhBC,8BAAgB,IARA;AAShBC,yBAAW,KATK;AAUhBC,0BAAY,IAVI;AAWhBC,2BAAa,GAXG;AAYhBC,6BAAe,GAZC;AAahBC,iCAAmB,KAbH;AAchBC,mCAAqB,GAdL;AAehBC,0BAAe,IAAIC,IAAJ,GAAWC,OAAX,EAAf,WAAwC,IAAID,IAAJ,GAAWE,QAAX,KAAwB,CAAhE,UAAqE,IAAIF,IAAJ,GAAWG,WAAX;AAfrD,aAFF;AAoBZC,wBApBY,GAoBG;AACjBC,sBAAQ,OADS;AAEjBC,qBAAO,OAFU;AAGjBC,+BAAiB,MAHA;AAIjBC,qCAAuB,MAJN;AAKjBC,mCAAqB,MALJ;AAMjBC,oBAAM,EANW;AAOjBC,uBAAS,EAPQ;AAQjBC,kCAAoB;AARH,aApBH;AAAA;AAAA,mBA+BA,wBAAQ,uBAAR,EACjBC,IADiB,CACZ,qBADY,EAEjBC,IAFiB,CAEZ9B,WAFY,EAGjB+B,MAHiB,CAGV,cAHU,EAGM,MAHN,EAIjBA,MAJiB,CAIV,GAJU,CA/BA;;AAAA;AA+BZC,eA/BY;AAqClBjC,cAAEkC,EAAF,CAAKD,IAAIE,MAAT,EAAiB,GAAjB;AACAnC,cAAEoC,SAAF,CAAYH,IAAII,IAAhB,EAAsBhB,YAAtB;;AAtCkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA","file":"/home/tchaguitos/Documentos/projects/correios-rest/test/functional/calcPrecoData.test.js","sourcesContent":["/* eslint-disable no-unused-expressions */\n/* eslint-disable no-unused-vars */\n\nimport test from 'ava';\nimport request from 'supertest';\nimport app from '../../src/config/express';\n\ntest('CalcPrecoData', async (t) => {\n\n    const requestMock = {\n        nCdEmpresa: '',\n        sDsSenha: '',\n        nCdServico: '40010',\n        sCepOrigem: '05311900',\n        sCepDestino: '37410220',\n        nVlPeso: '1',\n        nCdFormato: '1',\n        nVlComprimento: '20',\n        nVlAltura: '8.5',\n        nVlLargura: '12',\n        nVlDiametro: '0',\n        sCdMaoPropria: 'n',\n        nVlValorDeclarado: '150',\n        sCdAvisoRecebimento: 'n',\n        sDtCalculo: `${new Date().getDate()}/0${new Date().getMonth() + 1}/${new Date().getFullYear()}`,\n    };\n    \n    const responseMock = {\n        Codigo: '40010',\n        Valor: '54,93',\n        ValorMaoPropria: '0,00',\n        ValorAvisoRecebimento: '0,00',\n        ValorValorDeclarado: '2,63',\n        Erro: '',\n        MsgErro: '',\n        ValorSemAdicionais: '52,30',\n    };\n    \n    const res = await request(app())\n    .post('/v1/calc-preco-data')\n    .send(requestMock)\n    .expect('Content-Type', /json/)\n    .expect(200);\n    \n    t.is(res.status, 200);\n    t.deepEqual(res.body, responseMock);\n\n});\n"]}